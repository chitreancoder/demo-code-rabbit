[{"/usr/app/src/index.js":"1","/usr/app/src/App.js":"2","/usr/app/src/services/auth.service.js":"3","/usr/app/src/components/Login.js":"4","/usr/app/src/components/Register.js":"5"},{"size":504,"mtime":1762958870792,"results":"6","hashOfConfig":"7"},{"size":11011,"mtime":1763042159819,"results":"8","hashOfConfig":"7"},{"size":2355,"mtime":1763031832063,"results":"9","hashOfConfig":"7"},{"size":2924,"mtime":1763033902772,"results":"10","hashOfConfig":"7"},{"size":4484,"mtime":1763031832052,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"bxw3cw",{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/usr/app/src/index.js",[],"/usr/app/src/App.js",["23"],"import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport authService from './services/auth.service';\n\nconst API_BASE = 'http://localhost:8080/api/notes';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  const [notes, setNotes] = useState([]);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [editingNote, setEditingNote] = useState(null);\n  const [formData, setFormData] = useState({ title: '', body: '' });\n  const [loading, setLoading] = useState(false);\n\n  // Check authentication on mount\n  useEffect(() => {\n    const token = authService.getToken();\n    const storedUser = authService.getUser();\n    \n    if (token && storedUser) {\n      setIsAuthenticated(true);\n      setUser(storedUser);\n    }\n  }, []);\n\n  // Load notes when authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadNotes();\n    }\n  }, [isAuthenticated]);\n\n  const handleLogin = (userData, token) => {\n    setUser(userData);\n    setIsAuthenticated(true);\n  };\n\n  const handleRegister = (userData, token) => {\n    setUser(userData);\n    setIsAuthenticated(true);\n  };\n\n  const handleLogout = () => {\n    authService.logout();\n    setUser(null);\n    setIsAuthenticated(false);\n    setNotes([]);\n  };\n\n  const getNotes = async () => {\n    try {\n      const response = await fetch(API_BASE, {\n        headers: authService.getAuthHeaders()\n      });\n      if (!response.ok) throw new Error('Network response was not ok');\n      const data = await response.json();\n      return data.data || data;\n    } catch (error) {\n      console.error('Error fetching notes:', error);\n      return [];\n    }\n  };\n\n  const createNote = async (noteData) => {\n    try {\n      const response = await fetch(API_BASE, {\n        method: 'POST',\n        headers: authService.getAuthHeaders(),\n        body: JSON.stringify(noteData),\n      });\n      if (!response.ok) throw new Error('Network response was not ok');\n      const data = await response.json();\n      return data.data || data;\n    } catch (error) {\n      console.error('Error creating note:', error);\n      throw error;\n    }\n  };\n\n  const updateNote = async (noteId, noteData) => {\n    try {\n      const response = await fetch(`${API_BASE}/${noteId}`, {\n        method: 'PATCH',\n        headers: authService.getAuthHeaders(),\n        body: JSON.stringify(noteData),\n      });\n      if (!response.ok) throw new Error('Network response was not ok');\n      const data = await response.json();\n      return data.data || data;\n    } catch (error) {\n      console.error('Error updating note:', error);\n      throw error;\n    }\n  };\n\n  const deleteNote = async (noteId) => {\n    try {\n      const response = await fetch(`${API_BASE}/${noteId}`, {\n        method: 'DELETE',\n        headers: authService.getAuthHeaders()\n      });\n      if (!response.ok) throw new Error('Network response was not ok');\n      return await getNotes();\n    } catch (error) {\n      console.error('Error deleting note:', error);\n      throw error;\n    }\n  };\n\n  const loadNotes = async () => {\n    setLoading(true);\n    const data = await getNotes();\n    setNotes(data);\n    setLoading(false);\n  };\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const newNote = await createNote(formData);\n      setNotes([...notes, newNote]);\n      setShowCreateModal(false);\n      setFormData({ title: '', body: '' });\n    } catch (error) {\n      alert('Failed to create note');\n    }\n    setLoading(false);\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const updatedNote = await updateNote(editingNote._id, formData);\n      setNotes(notes.map(note => note._id === editingNote._id ? updatedNote : note));\n      setEditingNote(null);\n      setFormData({ title: '', body: '' });\n    } catch (error) {\n      alert('Failed to update note');\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async (noteId) => {\n    if (!window.confirm('Are you sure you want to delete this note?')) return;\n    setLoading(true);\n    try {\n      const updatedNotes = await deleteNote(noteId);\n      setNotes(updatedNotes);\n    } catch (error) {\n      alert('Failed to delete note');\n    }\n    setLoading(false);\n  };\n\n  const openEditModal = (note) => {\n    setEditingNote(note);\n    setFormData({\n      title: note.title || '',\n      body: note.body || ''\n    });\n  };\n\n  const closeModals = () => {\n    setShowCreateModal(false);\n    setEditingNote(null);\n    setFormData({ title: '', body: '' });\n  };\n\n  // If not authenticated, show login/register\n  if (!isAuthenticated) {\n    return showRegister ? (\n      <Register \n        onRegister={handleRegister}\n        onSwitchToLogin={() => setShowRegister(false)}\n      />\n    ) : (\n      <Login \n        onLogin={handleLogin}\n        onSwitchToRegister={() => setShowRegister(true)}\n      />\n    );\n  }\n\n  // Authenticated - show notes app\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div className=\"container\">\n          <div className=\"app-header-bar\">\n            <h1 className=\"app-title\">Notes App</h1>\n            <div className=\"user-info\">\n              <span className=\"welcome-text\">Welcome, {user?.username}!</span>\n              <button \n                className=\"btn btn-logout\"\n                onClick={handleLogout}\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"actions-bar\">\n            <button \n              className=\"btn btn-primary\"\n              onClick={() => setShowCreateModal(true)}\n              disabled={loading}\n            >\n              + Create Note\n            </button>\n            <button \n              className=\"btn btn-secondary\"\n              onClick={loadNotes}\n              disabled={loading}\n            >\n              ‚Üª Refresh\n            </button>\n          </div>\n\n          {loading && <div className=\"loading\">Loading...</div>}\n\n          <div className=\"notes-grid\">\n            {notes.length === 0 && !loading ? (\n              <div className=\"empty-state\">\n                <p>No notes yet. Create your first note!</p>\n              </div>\n            ) : (\n              notes.map((note) => (\n                <div key={note._id} className=\"note-card\">\n                  <div className=\"note-card-header\">\n                    <h3 className=\"note-title\">{note.title}</h3>\n                  </div>\n                  <div className=\"note-card-body\">\n                    <p className=\"note-body\">{note.body}</p>\n                    {note.author && (\n                      <p className=\"note-author\">By: {note.author}</p>\n                    )}\n                  </div>\n                  <div className=\"note-card-actions\">\n                    <button \n                      className=\"btn btn-edit\"\n                      onClick={() => openEditModal(note)}\n                      disabled={loading}\n                    >\n                      ‚úèÔ∏è Edit\n                    </button>\n                    <button \n                      className=\"btn btn-delete\"\n                      onClick={() => handleDelete(note._id)}\n                      disabled={loading}\n                    >\n                      üóëÔ∏è Delete\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        {showCreateModal && (\n          <div className=\"modal-overlay\" onClick={closeModals}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\">\n                <h2>Create New Note</h2>\n                <button className=\"modal-close\" onClick={closeModals}>√ó</button>\n              </div>\n              <form onSubmit={handleCreate} className=\"note-form\">\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    value={formData.title}\n                    onChange={(e) => setFormData({...formData, title: e.target.value})}\n                    required\n                    placeholder=\"Enter note title\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Body</label>\n                  <textarea\n                    value={formData.body}\n                    onChange={(e) => setFormData({...formData, body: e.target.value})}\n                    required\n                    placeholder=\"Enter note content\"\n                    rows=\"5\"\n                  />\n                </div>\n                <div className=\"form-actions\">\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModals}>\n                    Cancel\n                  </button>\n                  <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                    Create Note\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {editingNote && (\n          <div className=\"modal-overlay\" onClick={closeModals}>\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"modal-header\">\n                <h2>Edit Note</h2>\n                <button className=\"modal-close\" onClick={closeModals}>√ó</button>\n              </div>\n              <form onSubmit={handleUpdate} className=\"note-form\">\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    value={formData.title}\n                    onChange={(e) => setFormData({...formData, title: e.target.value})}\n                    required\n                    placeholder=\"Enter note title\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Body</label>\n                  <textarea\n                    value={formData.body}\n                    onChange={(e) => setFormData({...formData, body: e.target.value})}\n                    required\n                    placeholder=\"Enter note content\"\n                    rows=\"5\"\n                  />\n                </div>\n                <div className=\"form-actions\">\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModals}>\n                    Cancel\n                  </button>\n                  <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                    Update Note\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/usr/app/src/services/auth.service.js",[],"/usr/app/src/components/Login.js",[],"/usr/app/src/components/Register.js",[],{"ruleId":"24","severity":1,"message":"25","line":35,"column":6,"nodeType":"26","endLine":35,"endColumn":23,"suggestions":"27"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadNotes'. Either include it or remove the dependency array.","ArrayExpression",["28"],{"desc":"29","fix":"30"},"Update the dependencies array to be: [isAuthenticated, loadNotes]",{"range":"31","text":"32"},[1095,1112],"[isAuthenticated, loadNotes]"]